(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{562:function(t,a,s){"use strict";s.r(a);var e=s(67),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"《版本管理git回滚、重置、提交以及sourcetree复杂操作》"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#《版本管理git回滚、重置、提交以及sourcetree复杂操作》"}},[t._v("#")]),t._v(" 《版本管理git回滚、重置、提交以及SourceTree复杂操作》")]),t._v(" "),s("div",{staticClass:"cc-speaker-content color2"},[s("span",{staticClass:"cc-speaker"},[t._v("主讲：蔡老师 ")]),t._v(" "),s("span",{staticClass:"cc-wrap"},[s("span",{staticClass:"cc-stage"},[t._v("第六期")])])]),t._v(" "),s("h2",{attrs:{id:"一、git简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、git简介"}},[t._v("#")]),t._v(" 一、GIT简介")]),t._v(" "),s("blockquote",[s("p",[t._v("Git是一个开源的分布式版本控制系统，可以"),s("code",[t._v("有效")]),t._v("、"),s("code",[t._v("高速")]),t._v("的处理从很小到非常大的项目版本管理。")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("对非线性开发有非常强的支持")])]),t._v(" "),s("li",[s("p",[t._v("分布式、协作式开发处理代码冲突的能力强")])]),t._v(" "),s("li",[s("p",[t._v("数据结构更优，更适合管理大规模工程")])]),t._v(" "),s("li",[s("p",[t._v("社区更活跃，生态更完整")])])]),t._v(" "),s("h2",{attrs:{id:"二、命令行基本操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、命令行基本操作"}},[t._v("#")]),t._v(" 二、命令行基本操作")]),t._v(" "),s("h3",{attrs:{id:"_1、git基本配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、git基本配置"}},[t._v("#")]),t._v(" 1、Git基本配置")]),t._v(" "),s("p",[s("code",[t._v("git config")]),t._v("可以配置git的参数，可以使用"),s("code",[t._v("git config --list")]),t._v("查看已经配置的git参数。")]),t._v(" "),s("p",[s("strong",[t._v("配置用户名及邮箱")])]),t._v(" "),s("blockquote",[s("p",[t._v("在使用Git提交前，必须配置用户名和邮箱，这些信息会永久保存到历史记录中。")])]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("git config --global user.name "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cpy"')]),t._v("\ngit config --global user.email xxxx@qq.com\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_2、创建git仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、创建git仓库"}},[t._v("#")]),t._v(" 2、创建Git仓库")]),t._v(" "),s("p",[t._v("直接调用"),s("code",[t._v("git init")]),t._v("初始化当前目录，即创建Git仓库。")]),t._v(" "),s("h3",{attrs:{id:"_3、获得git仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、获得git仓库"}},[t._v("#")]),t._v(" 3、获得Git仓库")]),t._v(" "),s("p",[t._v("如果需要克隆远程仓库，可以使用"),s("code",[t._v("git clone")]),t._v("，例如：")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("git clone http"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//gitlab.zq.com:8888/fattan/frontend.git")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4、提交更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、提交更新"}},[t._v("#")]),t._v(" 4、提交更新")]),t._v(" "),s("h4",{attrs:{id:"git文件状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git文件状态"}},[t._v("#")]),t._v(" git文件状态")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard0.png",alt:"img"}})]),t._v(" "),s("ul",[s("li",[s("h3",{attrs:{id:"git-status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-status"}},[t._v("#")]),t._v(" git status")]),t._v(" "),s("p",[t._v("通常提交前先检查下修改了什么内容，当前Git目录下各文件的状态。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard1.png",alt:"img"}})])]),t._v(" "),s("li",[s("h3",{attrs:{id:"git-add"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-add"}},[t._v("#")]),t._v(" git add")]),t._v(" "),s("p",[t._v("可以添加文件或者目录，也可以使用通配符。比如：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git add Readme.md    # add file only\ngit add *.cpp        # add all cpp files\ngit add /home/code/  # add all files in /home/code\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("多文件提交：使用$ git add .  注意最后的“.”不要忘记。一次性提交项目下所有文件到版本库")])]),t._v(" "),s("li",[s("h3",{attrs:{id:"git-diff"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-diff"}},[t._v("#")]),t._v(" git diff")]),t._v(" "),s("p",[s("code",[t._v("git diff")]),t._v("可以查看当前目录的所有修改。")])]),t._v(" "),s("li",[s("h3",{attrs:{id:"git-commit-m"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-m"}},[t._v("#")]),t._v(" git commit -m")]),t._v(" "),s("p",[t._v("文件添加到版本库")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard2.png",alt:"img"}})])]),t._v(" "),s("li",[s("h3",{attrs:{id:"git-rm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-rm"}},[t._v("#")]),t._v(" git rm")]),t._v(" "),s("p",[s("code",[t._v("git rm")]),t._v("会把文件从当前目录删除（不会保存删除的文件）。如果需要从Git仓库中删除，但保留在当前工作目录中，亦即从跟踪清单中删除，可以使用"),s("code",[t._v("git rm --cached readme.md")]),t._v("。")])])]),t._v(" "),s("h3",{attrs:{id:"_5、提交历史查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、提交历史查看"}},[t._v("#")]),t._v(" 5、提交历史查看")]),t._v(" "),s("blockquote",[s("p",[t._v("执行命令"),s("code",[t._v("git log")]),t._v("后，提交人、邮箱、时间、备注信息显示出来，如图：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard3.png",alt:"img"}})]),t._v(" "),s("h3",{attrs:{id:"_6、撤销操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、撤销操作"}},[t._v("#")]),t._v(" 6、撤销操作")]),t._v(" "),s("blockquote",[s("p",[t._v("本地仓库的代码还原操作叫做"),s("code",[t._v("撤销")])]),t._v(" "),s("p",[t._v("修改最后一次版本区提交：提交信息写错了。想要撤消刚才的提交操作，")]),t._v(" "),s("p",[s("code",[t._v("$ git commit --amend")]),t._v("  选项重新提交，如图所示：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard4.png",alt:"img"}})]),t._v(" "),s("blockquote",[s("p",[t._v("对文件进行修改放入缓存区之后"),s("code",[t._v("$ git commit –amend")]),t._v("进入修改区域")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard5.png",alt:"img"}})]),t._v(" "),s("p",[t._v("修改完成后 按下"),s("code",[t._v("Esc")]),t._v("键  使用"),s("code",[t._v(":wq")]),t._v("退出不要忘了前面的"),s("code",[t._v(":")])]),t._v(" "),s("h3",{attrs:{id:"_7、代码回滚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7、代码回滚"}},[t._v("#")]),t._v(" 7、代码回滚")]),t._v(" "),s("ul",[s("li",[s("h5",{attrs:{id:"在工作区的代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在工作区的代码"}},[t._v("#")]),t._v(" 在工作区的代码")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("丢弃文件操作")])])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git checkout "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt  # 丢弃某个文件\n\ngit checkout "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("      # 丢弃全部\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])]),t._v(" "),s("li",[s("h5",{attrs:{id:"代码git-add到缓存区-并未commit提交"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码git-add到缓存区-并未commit提交"}},[t._v("#")]),t._v(" 代码git add到缓存区，并未commit提交")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("回滚缓存区文件操作")]),t._v("，此命令仅改变暂存区，并不改变工作区，这意味着在无任何其他操作的情况下，工作区中的实际文件同该命令运行之前无任何变化")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git reset HEAD "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\t\t# 回滚暂存所有\n\ngit reset HEAD a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\t# 回滚暂存某个文件\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])]),t._v(" "),s("li",[s("h5",{attrs:{id:"git-commit到本地分支、但没有git-push到远程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-commit到本地分支、但没有git-push到远程"}},[t._v("#")]),t._v(" git commit到本地分支、但没有git push到远程")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("回滚本地分支文件操作")]),t._v("，此命令是在git commit到本地分支之后、但没有git push到远程时的操作。")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git log \t\t\t\t\t\t# 得到你需要回退一次提交的commit id \ngit reset "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("hard "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("commit_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t# 回到其中你想要的某个版\ngit reset "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("hard HEAD"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" \t\t\t# 回到最新的一次提交\ngit reset HEAD"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" \t\t\t\t# 此时代码保留，回到 git add 之前\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])]),t._v(" "),s("li",[s("h5",{attrs:{id:"git-push把修改提交到远程仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-push把修改提交到远程仓库"}},[t._v("#")]),t._v(" git push把修改提交到远程仓库")]),t._v(" "),s("h6",{attrs:{id:"_1-通过git-reset是直接删除指定的commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-通过git-reset是直接删除指定的commit"}},[t._v("#")]),t._v(" 1）通过git reset是直接删除指定的commit")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git log \t\t\t\t\t\t# 得到你需要回退一次提交的commit id\ngit reset "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("hard "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("commit_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\t# 强制返回上一次提交的源码状态\ngit push origin HEAD "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("force \t# 强制提交一次，之前错误的提交就从远程仓库删除\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h6",{attrs:{id:"_2-通过git-revert是用一次新的commit来回滚之前的commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-通过git-revert是用一次新的commit来回滚之前的commit"}},[t._v("#")]),t._v(" 2）通过git revert是用一次新的commit来回滚之前的commit")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git log \t\t\t\t# 得到你需要回退一次提交的commit id\ngit revert "),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("commit_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \t# 撤销指定的版本，撤销也会作为一次提交进行保存\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h6",{attrs:{id:"_3-git-revert-和-git-reset的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-git-revert-和-git-reset的区别"}},[t._v("#")]),t._v(" 3） git revert 和 git reset的区别")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("git revert")]),t._v("是用一次新的commit来回滚之前的commit，此次提交之前的commit都会被保留；")]),t._v(" "),s("li",[s("code",[t._v("git reset")]),t._v("是回到某次提交，提交及之前的commit都会被保留，但是此commit id之后的修改都会被删除")])])])]),t._v(" "),s("h3",{attrs:{id:"_8、远程仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8、远程仓库"}},[t._v("#")]),t._v(" 8、远程仓库")]),t._v(" "),s("blockquote",[s("p",[t._v("可以使用"),s("code",[t._v("git remote")]),t._v("查看当前的远程库。"),s("code",[t._v("git remote -v")]),t._v("可以显示对应的克隆地址。（对于多个远程仓库很有用）")])]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("添加远程仓库")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git remote add "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("short_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\t# 可以添加新的远程仓库。\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("从远程仓库抓取数据")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git fetch "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("remote"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\t\t# 可以从远程仓库抓取数据到本地。\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("也可以使用"),s("code",[t._v("git pull")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("推送数据到远程仓库")])])])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git push "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("remote_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("branch_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\t# 默认使用origin和master\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[s("strong",[t._v("查看远程仓库信息")])])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git remote show origin\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ol",{attrs:{start:"5"}},[s("li",[s("strong",[t._v("远程仓库的删除和重命名")])])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("git remote rename "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("old_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("new_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ngit remote rm "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("remote_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_9、-分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9、-分支"}},[t._v("#")]),t._v(" 9、 分支")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("显示所有分支")])])]),t._v(" "),s("p",[t._v("使用"),s("code",[t._v("git branch")]),t._v("可显示当前所有分支。可以使用--merged和--no-merged查看已经合并、未合并的分支。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard6.png",alt:"img"}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[s("strong",[t._v("创建及切换分支")])]),t._v(" "),s("p",[t._v("可以使用下面命令直接切换并创建分支")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git checkout -b testing\t# 创建testing 分支\ngit branch testing    \t# 创建testing 分支\ngit checkout testing  \t# 切换到testing分支\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard7.png",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard8.png",alt:"img"}})]),t._v(" "),s("p",[s("code",[t._v("注意")]),t._v("：切换分支时请保持工作目录没有未提交的修改。Git鼓励使用分支，处理完问题之后合并分支即可")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("分支合并")])]),t._v(" "),s("p",[t._v("将dev分支合并到master（主分支）上，需要通过下面命令")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ git checkout master\n$ git merge hotfix\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard9.png",alt:"img"}})]),t._v(" "),s("p",[t._v("合并之后可以使用"),s("code",[t._v("git branch -d dev")]),t._v("删除分支。如果合并时存在冲突，需要手工修改。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("删除分支")])])])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git branch -d  \t\t#分支的删除\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard10.png",alt:"img"}})]),t._v(" "),s("p",[s("code",[t._v("注意")]),t._v("：要删除分支不能在当前分支删除，必须切换到其他分支才能删除")]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[s("strong",[t._v("修改分支名")])])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git branch -m \t\t# 分支名字 新名字来进行分支的重命名\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard11.png",alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"三、source-tree-操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、source-tree-操作"}},[t._v("#")]),t._v(" 三、Source Tree 操作")]),t._v(" "),s("h3",{attrs:{id:"_1、拉取代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、拉取代码"}},[t._v("#")]),t._v(" 1、拉取代码")]),t._v(" "),s("blockquote",[s("p",[t._v('Sourcetree顶部菜单栏"文件" > “克隆/新建”。')])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard12.png",alt:"img"}})]),t._v(" "),s("blockquote",[s("p",[t._v('在弹出的Tab页中，选择默认的"Clone"，输入获取到的Git地址。')]),t._v(" "),s("p",[s("code",[t._v("注意")]),t._v("：这里使用的HTTP格式的地址")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113160848712.png",alt:"img"}})]),t._v(" "),s("h3",{attrs:{id:"_2、提交代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、提交代码"}},[t._v("#")]),t._v(" 2、提交代码")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113161500490.png",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113161606315.png",alt:"img"}})]),t._v(" "),s("h3",{attrs:{id:"_3、新建分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、新建分支"}},[t._v("#")]),t._v(" 3、新建分支")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard16.png",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard17.png",alt:"img"}})]),t._v(" "),s("h3",{attrs:{id:"_4、合并分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、合并分支"}},[t._v("#")]),t._v(" 4、"),s("strong",[t._v("合并分支")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard18.png",alt:"img"}})]),t._v(" "),s("blockquote",[s("p",[t._v("把【3.2.0】合并到【master】，分支切换到master")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard19.png",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard20.png",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-clipboard21.png",alt:"img"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"C:%5CUsers%5Czq%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cgit%5Cgit-clipboard22.png",alt:"img"}})]),t._v(" "),s("h3",{attrs:{id:"_5、删除分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、删除分支"}},[t._v("#")]),t._v(" 5、删除分支")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("本地删除")])]),t._v(" "),s("blockquote",[s("p",[t._v("右键目标分支，删除即可")]),t._v(" "),s("p",[t._v("注意：这里是本地删除，不影响远程仓库。如果切换目标分支时，不能进行删除操作。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113182729031.png",alt:"img"}})])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("远程删除")])]),t._v(" "),s("blockquote",[s("p",[t._v("右键目标分支，删除即可。【慎重】")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113182914306.png",alt:"img"}})]),t._v(" "),s("h3",{attrs:{id:"_6、回滚代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、回滚代码"}},[t._v("#")]),t._v(" 6、回滚代码")]),t._v(" "),s("p",[t._v("这里的回滚大概分为三种：")]),t._v(" "),s("ul",[s("li",[t._v("回滚本地修改。（此时还未进行本地Commit）")]),t._v(" "),s("li",[t._v("回滚本地的Commit。（此时还未推送到远程Git服务器）")]),t._v(" "),s("li",[t._v("回滚已经推送到Server端的Commit。")])]),t._v(" "),s("h5",{attrs:{id:"_6-1-回滚本地修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-回滚本地修改"}},[t._v("#")]),t._v(" 6.1 "),s("strong",[t._v("回滚本地修改")])]),t._v(" "),s("blockquote",[s("p",[t._v('只需要在未暂存区选中对应的文件，右键选择"丢弃"即可')])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113162727942.png",alt:"img"}})]),t._v(" "),s("h5",{attrs:{id:"_6-2回滚本地commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2回滚本地commit"}},[t._v("#")]),t._v(" 6.2"),s("strong",[t._v("回滚本地Commit")])]),t._v(" "),s("blockquote",[s("p",[t._v("需要选取所要回滚Commit之前的那个Commit节点")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113173052898.png",alt:"image-20210113173052898"}})]),t._v(" "),s("blockquote",[s("p",[t._v("弹出的交互框中，三个选项中推荐直接使用默认的混合合并，然后点击确认即可")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113173210719.png",alt:"image-20210113173210719"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113173342640.png",alt:"image-20210113173342640"}})]),t._v(" "),s("p",[s("strong",[t._v("使用模式说明")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113173441676.png",alt:"image-20210113173441676"}})]),t._v(" "),s("h5",{attrs:{id:"_6-3回滚server端commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3回滚server端commit"}},[t._v("#")]),t._v(" 6.3"),s("strong",[t._v("回滚Server端Commit")])]),t._v(" "),s("blockquote",[s("p",[t._v("首选需要选中想要进行回滚的Commit节点，如下：")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113175946276.png",alt:"image-20210113175946276"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113180346426.png",alt:"image-20210113180346426"}})]),t._v(" "),s("blockquote",[s("p",[t._v("确认之后将自动生成类似下图中的Commit，然后推送即可")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113180520699.png",alt:"image-20210113180520699"}})]),t._v(" "),s("h3",{attrs:{id:"_7、解决冲突"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7、解决冲突"}},[t._v("#")]),t._v(" 7、解决冲突")]),t._v(" "),s("p",[t._v("由于某些原因发生代码冲突的问题，这类问题在Sourcetree中表现如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113181453009.png",alt:"image-20210113181453009"}})]),t._v(" "),s("p",[t._v("解决方法：")]),t._v(" "),s("p",[t._v("1）本地代码中手动解决；")]),t._v(" "),s("p",[t._v("2）外部合并工具：Beyond Compare")]),t._v(" "),s("p",[t._v("​\t下载地址：https://www.beyondcompare.cc/")]),t._v(" "),s("p",[t._v("​\t右键选中发生冲突的文件，最终选择打开外部合并工具，解决完冲突之后，再次提交文件即可。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/git-20210113160868712.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("h3",{attrs:{id:"_8、git工作流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8、git工作流"}},[t._v("#")]),t._v(" 8、git工作流")]),t._v(" "),s("blockquote",[s("p",[t._v("如果想要开发新的需求，或者修复bug，可使用该工具git工作流。")])]),t._v(" "),s("h5",{attrs:{id:"_1-需要对项目流进行初始化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-需要对项目流进行初始化"}},[t._v("#")]),t._v(" 1）需要对项目流进行初始化")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114104739763.png",alt:"image-20210114104739763"}})]),t._v(" "),s("p",[t._v("直接点“确定”，获取develop分支源码")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/569926-20170109090719056-2130711032.png",alt:"img"}})]),t._v(" "),s("h5",{attrs:{id:"_2-分支共有5种类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-分支共有5种类型"}},[t._v("#")]),t._v(" 2）分支共有5种类型")]),t._v(" "),s("ul",[s("li",[t._v("master，最终发布版本，整个项目中有且只有一个")]),t._v(" "),s("li",[t._v("develop，项目的开发分支，原则上项目中有且只有一个")]),t._v(" "),s("li",[t._v("feature，功能分支，用于开发一个新的功能")]),t._v(" "),s("li",[t._v("release，预发布版本，介于develop和master之间的一个版本，主要用于测试")]),t._v(" "),s("li",[t._v("hotfix，修复补丁，用于修复master上的bug，直接作用于master")])]),t._v(" "),s("h5",{attrs:{id:"_3-需求分支feature"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-需求分支feature"}},[t._v("#")]),t._v(" 3）需求分支feature")]),t._v(" "),s("blockquote",[s("p",[t._v("当开发中需要增加一个新的功能时，可新建feature分支，用于增加新功能，并且不影响开发中的develop源码，当新功能增加完成后，完成feature分支，将新功能合并到develop中，更新develop上的代码")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("新建feature。首先当前开发分支指向develop，点击“Git工作流”")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114105404056.png",alt:"image-20210114105404056"}})])]),t._v(" "),s("li",[s("p",[t._v("选择“建立新的分支”")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/569926-20170109092139150-347914709.png",alt:"img"}})])])]),t._v(" "),s("blockquote",[s("p",[t._v("在预览中可看到，feature分支是从develop分出的，输入功能名称，点击确定，项目结构中增加feature分支，并且当前开发分支指向新建的feature分支，在该分支下进行开发任务，并提交")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114105713084.png",alt:"image-20210114105713084"}})]),t._v(" "),s("ul",[s("li",[s("p",[t._v("成feature开发后，将feature中的源码合并到develop分支，点击“Git工作流”，选择“完成功能”，点击确定，进行提交合并")]),t._v(" "),s("blockquote",[s("p",[t._v("当多人协作开发时，可能会出现，不同人员对同一文件进行操作，从而引起合并冲突，对这种情况进行模拟，在当前新建两个feature，分别对feature文件进行修改，然后分别合并")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114105916457.png",alt:"image-20210114105916457"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114110009740.png",alt:"image-20210114110009740"}})]),t._v(" "),s("h5",{attrs:{id:"_4-预发布测试阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-预发布测试阶段"}},[t._v("#")]),t._v(" 4） 预发布测试阶段")]),t._v(" "),s("blockquote",[s("p",[t._v("可以从develop分支，建立release分支，进入预发布测试阶段。点击“Git工作流”，选择“建立新的发布版本”")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/569926-20170109131712931-768836924.png",alt:"img"}}),s("img",{attrs:{src:"/blog/assets/images/SourceTree/569926-20170109131739541-592120046.png",alt:"img"}})]),t._v(" "),s("blockquote",[s("p",[t._v("release是从develop分出的，输入发布版本名‘R_v1.0’，点击确定")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/569926-20170109131916556-1163021502.png",alt:"img"}})]),t._v(" "),s("p",[s("code",[t._v("R_v1.0为阶段性发布版本，主要用于发布前进行测试，后续的开发工作仍旧在develop上进行，如果在测试过程中发现问题，直接在release上进行修改，修改完成后进行提交")])]),t._v(" "),s("h5",{attrs:{id:"_5-补丁hotfix"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-补丁hotfix"}},[t._v("#")]),t._v(" 5) 补丁hotfix")]),t._v(" "),s("blockquote",[s("p",[t._v("当正式版本出现问题时，需要进行问题的修改，可以在master分支建立修改补丁hotfix。将当前分支切换到master，点击“Git工作流”，选择“建立新的修复补丁”")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114110554502.png",alt:"image-20210114110554502"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114110622943.png",alt:"image-20210114110622943"}})]),t._v(" "),s("blockquote",[s("p",[t._v("点击确认即可")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114110742159.png",alt:"image-20210114110742159"}})]),t._v(" "),s("blockquote",[s("p",[t._v("修复完成后，可向master和develop分别合并，点击确定，完成分支合并")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114110851126.png",alt:"image-20210114110851126"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114111001777.png",alt:"image-20210114111001777"}})]),t._v(" "),s("p",[s("code",[t._v("补充")]),t._v("：从远程拉取分支，在该分支下完成开发，应“双击”远程的该分支，出现“检出新分支”，之后点击“确定”，就将远程分支拉取到本地了。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/blog/assets/images/SourceTree/image-20210114111113879.png",alt:"image-20210114111113879"}})]),t._v(" "),s("p",[t._v("至此，版本管理git回滚、重置、提交以及SourceTree复杂操作全部完成！！！")])])}),[],!1,null,null,null);a.default=r.exports}}]);